# SQL

SQL (аббр. от англ. Structured Query Language — «язык структурированных запросов») — декларативный язык программирования, применяемый для создания, модификации и управления данными в реляционной базе данных, управляемой соответствующей системой управления базами данных.

Является, прежде всего, информационно-логическим языком, предназначенным для описания, изменения и извлечения данных, хранимых в реляционных базах данных. В общем случае SQL (без ряда современных расширений) считается языком программирования неполным по Тьюрингу, но вместе с тем стандарт языка спецификацией SQL/PSM предусматривает возможность его процедурных расширений.

Изначально SQL был основным способом работы пользователя с базой данных и позволял выполнять следующий набор операций:

- создание в базе данных новой таблицы;
- добавление в таблицу новых записей;
- изменение записей;
- удаление записей;
- выборка записей из одной или нескольких таблиц (в соответствии с заданным условием);
- изменение структур таблиц.

## Что такое реляция в базах данных?

Слово "реляция" происходит от "relation", то есть "отношение". Это означает, что в РБД существуют механизмы установления связей между таблицами. Делается это с помощью так называемых первичных и внешних ключей.

Реляционная база данных – это набор данных с предопределенными связями между ними. Эти данные организованны в виде набора таблиц, состоящих из столбцов и строк. В таблицах хранится информация об объектах, представленных в базе данных.

Реляционной называется база данных, в которой все данные, доступные пользо­вателю, организованы в виде таблиц, а все операции базы данных выполняются над этими таблицами.



> Со временем SQL усложнился — обогатился новыми конструкциями, обеспечил возможность описания и управления новыми хранимыми объектами (например, индексы, представления, триггеры и хранимые процедуры) — и стал приобретать черты, свойственные языкам программирования.

> При всех своих изменениях SQL остаётся самым распространённым лингвистическим средством для взаимодействия прикладного программного обеспечения с базами данных. В то же время современные СУБД, а также информационные системы, использующие СУБД, предоставляют пользователю развитые средства визуального построения запросов.



## DDL, DML, DCL, TCL операции

Стандарты `SQL` подразделяют средства языка на несколько категорий:

1. Язык описания данных (`Data Definition Language, DDL`), команды которого определяют структуру базы данных (в томчисле логическую) и позволяют работать с объектами этой базы(например, с таблицами или представлениями), среди них:

- CREATE – создание нового объекта БД;

- ALTER – модификация/изменение существующего в БД объекта;

- DROP – удаление существующего в БД объекта;

- TRUNCATE – удаление (усечение) всех записей из таблицы или набора таблиц;

2. язык манипулирования данными (Data Manipulation Language, DML), команды которого обеспечивают управление данными внутри схемы, позволяют добавлять, изменять, удалять и выгружать данные из базы, среди них:

- SELECT – выборка данных;

- INSERT – вставка новых данных;

- UPDATE – обновление данных;

- DELETE – удаление данных;

- MERGE – слияние данных;

3. язык управления данными (Data Control Language, DCL), команды которого обеспечивают управление доступом к данным, т.е. управление привилегиями, разрешающими или запрещающими выполнение определенных операций над объектами базы данных, среди них:

- GRANT – предоставление пользователям привилегии доступа

- REVOKE – отзыв привилегии, предоставленной командой GRANT;

- DENY – задание запрета, имеющего приоритет над разрешением;

4. язык управления транзакциями (Transaction Control Language,TCL). Транзакция – это команда или блок DML команд, которые рассматриваются как единое целое, т.е. в успешной транзакции фиксируются все внесенные изменения, а при сбое в какой-либо команде транзакции все изменения, внесенные командами транзакции, будут отменены. Команды TCL используются для управления изменениями, сделанными транзакцией, среди них:

- BEGIN – определение начала транзакции;

- COMMIT – сохранение изменений;

- SAVEPOINT – определение точки транзакции, к которой можно будет откатиться;

- ROLLBACK – возвращение БД к состоянию на момент последней команды.
